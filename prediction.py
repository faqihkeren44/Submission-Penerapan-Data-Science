# -*- coding: utf-8 -*-
"""Prediction.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/18YM3EFmkSkCcCqjGQ5KazIDMYuXQAETx
"""

import pandas as pd
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import StandardScaler
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import confusion_matrix
from sklearn.metrics import accuracy_score

url = 'https://raw.githubusercontent.com/faqihkeren44/Submission-Penerapan-Data-Science/main/employee_data.csv'
main_df = pd.read_csv(url, index_col=0)
main_df.head()

main_df = main_df[['Attrition', 'Age', 'BusinessTravel', 'DistanceFromHome', 'Education', 'Gender']]

main_df['Gender'] = main_df['Gender'].replace({'Female': 0, 'Male': 1})
main_df['BusinessTravel'] = main_df['BusinessTravel'].replace({'Non-Travel': 0, 'Travel_Rarely': 1, 'Travel_Frequently': 2})

main_df.dropna(inplace=True)

X = main_df.drop('Attrition', axis=1)
y = main_df['Attrition']

X_train, X_test, y_train, y_test = train_test_split(X, y, train_size=0.2, shuffle=True, random_state=0)

scaler = StandardScaler()
scaler.fit(X_train)
X_train = pd.DataFrame(scaler.transform(X_train), index=X_train.index, columns=X_train.columns)
X_test = pd.DataFrame(scaler.transform(X_test), index=X_test.index, columns=X_test.columns)

model = LogisticRegression()
model.fit(X_train, y_train)
pred = model.predict(X_test)

data = {'Age':[20],
        'BusinessTravel':['Non-Travel'],
        'DistanceFromHome':[1],
        'Education':[2],
        'Gender':['Male']}
NewEmployee = pd.DataFrame(data)
NewEmployee

NewEmployee['Gender'] = NewEmployee['Gender'].replace({'Female': 0, 'Male': 1})
NewEmployee['BusinessTravel'] = NewEmployee['BusinessTravel'].replace({'Non-Travel': 0, 'Travel_Rarely': 1, 'Travel_Frequently': 2})

NewPred = model.predict(NewEmployee)
NewPred